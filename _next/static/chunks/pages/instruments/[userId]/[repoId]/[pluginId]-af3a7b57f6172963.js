(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[539],{5612:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/instruments/[userId]/[repoId]/[pluginId]",function(){return a(5419)}])},5419:function(e,t,a){"use strict";a.r(t),a.d(t,{__N_SSG:function(){return v}});var s=a(1438),i=a(8029),n=a(6567),l=a(5893),r=a(7294),o=a(2506),c=a(9067),d=a(9008),u=a.n(d),h=a(2789),g=a.n(h),m=a(1163),p=a(8503),f=a(1208),x=a(3719),j=function(e){(0,i.Z)(a,e);var t=(0,n.Z)(a);function a(e){var i;return(0,s.Z)(this,a),(i=t.call(this,e)).play=function(){var e=document.getElementById("audio");e.paused&&(e.removeEventListener("ended",i.ended),e.addEventListener("ended",i.ended),e.currentTime=0,e.play(),i.setState({isPlaying:!0}))},i.pause=function(){var e=document.getElementById("audio");e.paused||(e.pause(),i.setState({isPlaying:!1}))},i.ended=function(){i.setState({isPlaying:!1})},i.state={isPlaying:!1,plugin:e.plugin,router:e.router},i}var r=a.prototype;return r.formatBytes=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(0===e)return"0 Bytes";var a=1024,s=t<0?0:t,i=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],n=Math.floor(Math.log(e)/Math.log(a));return parseFloat((e/Math.pow(a,n)).toFixed(s))+" "+i[n]},r.timeSince=function(e){var t=Math.floor(((new Date).getTime()-new Date(e).getTime())/1e3),a=t/31536e3;return a>2?Math.floor(a)+" years":a>1?Math.floor(a)+" year":(a=t/2592e3)>2?Math.floor(a)+" months":a>1?Math.floor(a)+" month":(a=t/86400)>2?Math.floor(a)+" days":a>1?Math.floor(a)+" day":(a=t/3600)>2?Math.floor(a)+" hours":a>1?Math.floor(a)+" hour":(a=t/60)>2?Math.floor(a)+" minutes":a>1?Math.floor(a)+" minute":Math.floor(t)+" seconds"},r.getPlayButton=function(){return this.state.isPlaying?(0,l.jsx)("img",{className:g().imagePlay,src:"".concat(this.state.router.basePath,"/images/icon-pause.svg"),alt:"Pause",onClick:this.pause}):(0,l.jsx)("img",{className:g().imagePlay,src:"".concat(this.state.router.basePath,"/images/icon-play.svg"),alt:"Play",onClick:this.play})},r.loadSfzPlayer=function(e){var t=document.getElementById("sfzPlayer");if(t)if("open"!==t.className){var a=e.currentTarget.getAttribute("data-name")||"",s=e.currentTarget.getAttribute("data-repo")||"";console.log("loadSfzPlayer",a,s),t.innerHTML="";new window.Sfz.Player("sfzPlayer",{audio:{},instrument:{name:a,id:s},interface:{}});window.setTimeout((function(){t.className="open"}),0)}else t.className=""},r.render=function(){return(0,l.jsxs)(c.ZP,{children:[(0,l.jsxs)(u(),{children:[(0,l.jsx)("title",{children:this.state.plugin.name||""}),(0,l.jsx)("meta",{name:"description",content:this.state.plugin.description||""}),(0,l.jsx)("meta",{name:"og:image",content:(0,p.pluginFileUrl)(this.state.plugin,"image")}),(0,l.jsx)("meta",{name:"og:title",content:this.state.plugin.name||""})]}),(0,l.jsxs)("article",{children:[(0,l.jsx)("div",{id:"sfzPlayer"}),(0,l.jsxs)("div",{className:g().header,children:[(0,l.jsx)("div",{className:g().headerInner2,children:(0,l.jsx)(o.Z,{items:["instruments",this.state.plugin.repo.split("/")[0],this.state.plugin.repo.split("/")[1]]})}),(0,l.jsxs)("div",{className:g().headerInner,children:[(0,l.jsxs)("div",{className:g().media,children:[(0,l.jsxs)("div",{className:g().imageContainer,children:[this.state.plugin.files.audio?this.getPlayButton():"",this.state.plugin.tags.includes("sfz")?(0,l.jsx)("img",{className:g().sfzPlayer,"data-name":this.state.plugin.name,"data-repo":this.state.plugin.repo,src:"".concat(this.state.router.basePath,"/images/sfz-player.png"),alt:"open in sfz player",loading:"lazy",onClick:this.loadSfzPlayer}):"",this.state.plugin.files.image?(0,l.jsx)("img",{className:g().image,src:(0,p.pluginFileUrl)(this.state.plugin,"image"),alt:this.state.plugin.name||""}):""]}),this.state.plugin.files.audio?(0,l.jsx)("audio",{src:(0,p.pluginFileUrl)(this.state.plugin,"audio"),id:"audio",children:"Your browser does not support the audio element."}):""]}),(0,l.jsxs)("div",{className:g().details,children:[(0,l.jsxs)("h3",{className:g().title,children:[this.state.plugin.name||""," ",(0,l.jsxs)("span",{className:g().version,children:["v",this.state.plugin.version]})]}),(0,l.jsxs)("p",{className:g().author,children:["By"," ",(0,l.jsx)("a",{href:this.state.plugin.homepage,target:"_blank",children:this.state.plugin.author})]}),(0,l.jsxs)("p",{children:[this.state.plugin.description,(0,l.jsx)(f.Z,{plugin:this.state.plugin,message:!0})]}),(0,l.jsxs)("div",{className:g().metadataList,children:[(0,l.jsxs)("div",{className:g().metadata,children:[(0,l.jsx)("img",{className:g().icon,src:"".concat(this.state.router.basePath,"/images/icon-date.svg"),alt:"Date updated",loading:"lazy"})," ",this.timeSince(this.state.plugin.date)," ago"]}),(0,l.jsxs)("div",{className:g().metadata,children:[(0,l.jsx)("img",{className:g().icon,src:"".concat(this.state.router.basePath,"/images/icon-license.svg"),alt:"License",loading:"lazy"})," ",this.state.plugin.license?(0,l.jsx)("a",{href:this.state.plugin.license.url,target:"_blank",children:this.state.plugin.license.name}):"none"]}),(0,l.jsxs)("div",{className:g().metadata,children:[(0,l.jsx)("img",{className:g().icon,src:"".concat(this.state.router.basePath,"/images/icon-tag.svg"),alt:"Tags",loading:"lazy"}),(0,l.jsx)("ul",{className:g().tags,children:this.state.plugin.tags.map((function(e,t){return(0,l.jsxs)("li",{className:g().tag,children:[e,","]},"".concat(e,"-").concat(t))}))})]})]})]})]})]}),(0,l.jsx)("div",{className:g().options,children:(0,l.jsxs)("div",{className:g().row,children:[(0,l.jsxs)("div",{className:"".concat(g().cell," ").concat(g().download),children:[(0,l.jsx)("p",{children:"Download and install manually:"}),(0,l.jsx)(x.Z,{plugin:this.state.plugin})]}),(0,l.jsxs)("div",{className:"".concat(g().cell," ").concat(g().install),children:[(0,l.jsxs)("p",{children:["Install via"," ",(0,l.jsx)("a",{href:"https://www.npmjs.com/package/@studiorack/cli",target:"_blank",children:"StudioRack CLI"}),":"]}),(0,l.jsx)(f.Z,{plugin:this.state.plugin}),(0,l.jsxs)("pre",{className:g().codeBox,children:["studiorack plugin install ",this.state.plugin.repo,"/",this.state.plugin.id]})]})]})})]})]})},a}(r.Component),v=!0;t.default=(0,m.withRouter)(j)}},function(e){e.O(0,[226,774,888,179],(function(){return t=5612,e(e.s=t);var t}));var t=e.O();_N_E=t}]);