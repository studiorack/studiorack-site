(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[854],{2279:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/instruments/[userId]/[pluginId]",function(){return t(4047)}])},4047:function(e,s,t){"use strict";t.r(s),t.d(s,{__N_SSG:function(){return _},default:function(){return z}});var a=t(5893),i=t(7294),n=t(7657),l=t(1152),r=t(9008),c=t.n(r),d=t(6195),o=t.n(d),u=t(1163),g=t(4618),h=t(4606),m=t(8542),p=t(2540),j=t(4492),x=t(5923),f=t(4823),v=t.n(f),y=t(4298),N=t.n(y),b=t(9159),P=e=>{let{plugin:s}=e;return(0,a.jsxs)("div",{children:[(0,a.jsx)("img",{className:v().player,"data-name":s.name,"data-id":s.id,src:"".concat((0,b.bv)(),"/images/sfz-player.png"),alt:"open in sfz player",loading:"lazy",onClick:e=>{let s=document.getElementById("sfzPlayer");if(!s)return;if("open"===s.className){s.className="";return}let t=e.currentTarget.getAttribute("data-name")||"",a=e.currentTarget.getAttribute("data-id")||"";console.log("loadSfzPlayer",t,a),s.innerHTML="",new window.Sfz.Player("sfzPlayer",{audio:{},instrument:{name:t,id:a},interface:{}}),window.setTimeout(()=>{s.className="open"},0)}}),(0,a.jsx)(N(),{strategy:"beforeInteractive",id:"webaudio-controls-config",children:"window.WebAudioControlsOptions = { useMidi: 1 };"}),(0,a.jsx)(N(),{strategy:"beforeInteractive",src:"https://github.com/kmturley/webaudio-controls/releases/download/v1.0.0/webaudio-controls.min.js"}),(0,a.jsx)(N(),{strategy:"beforeInteractive",src:"https://sfzlab.github.io/sfz-web-player/sfz.min.js"})]})};class w extends i.Component{getPlayButton(){return this.state.isPlaying?(0,a.jsx)("img",{className:o().imagePlay,src:"".concat(this.state.router.basePath,"/images/icon-pause.svg"),alt:"Pause",onClick:this.pause}):(0,a.jsx)("img",{className:o().imagePlay,src:"".concat(this.state.router.basePath,"/images/icon-play.svg"),alt:"Play",onClick:this.play})}render(){var e,s;return(0,a.jsxs)(l.ZP,{children:[(0,a.jsxs)(c(),{children:[(0,a.jsx)("title",{children:(0,j.tj)(["Instruments",this.state.plugin.name])}),(0,a.jsx)("meta",{name:"description",content:this.state.plugin.description||""}),(0,a.jsx)("meta",{name:"og:image",content:(0,g.fk)(this.state.plugin,"image")}),(0,a.jsx)("meta",{name:"og:title",content:this.state.plugin.name||""})]}),(0,a.jsxs)("article",{children:[(0,a.jsx)("div",{id:"sfzPlayer"}),(0,a.jsxs)("div",{className:o().header,children:[(0,a.jsx)("div",{className:o().headerInner2,children:(0,a.jsx)(n.Z,{items:["instruments",(null===(e=this.state.plugin.id)||void 0===e?void 0:e.split("/")[0])||"",(null===(s=this.state.plugin.id)||void 0===s?void 0:s.split("/")[1])||""]})}),(0,a.jsxs)("div",{className:o().headerInner,children:[(0,a.jsxs)("div",{className:o().media,children:[(0,a.jsxs)("div",{className:o().imageContainer,children:[this.state.plugin.files.audio?this.getPlayButton():"",this.state.plugin.tags.includes("sfz")?(0,a.jsx)(P,{plugin:this.state.plugin}):"",this.state.plugin.files.image?(0,a.jsx)("img",{className:o().image,src:(0,g.fk)(this.state.plugin,"image"),alt:this.state.plugin.name||""}):""]}),this.state.plugin.files.audio?(0,a.jsx)("audio",{src:(0,g.fk)(this.state.plugin,"audio"),id:"audio",children:"Your browser does not support the audio element."}):""]}),(0,a.jsxs)("div",{className:o().details,children:[(0,a.jsxs)("h3",{className:o().title,children:[this.state.plugin.name||""," ",(0,a.jsxs)("span",{className:o().version,children:["v",this.state.plugin.version]})]}),(0,a.jsxs)("p",{className:o().author,children:["By"," ",(0,a.jsx)("a",{href:this.state.plugin.homepage,target:"_blank",children:this.state.plugin.author})]}),(0,a.jsxs)("p",{children:[this.state.plugin.description,(0,a.jsx)(h.Z,{plugin:this.state.plugin})]}),(0,a.jsxs)("div",{className:o().metadataList,children:[(0,a.jsxs)("div",{className:o().metadata,children:[(0,a.jsx)("img",{className:o().icon,src:"".concat(this.state.router.basePath,"/images/icon-date.svg"),alt:"Date updated",loading:"lazy"})," ",(0,j.VG)(this.state.plugin.date)," ago"]}),(0,a.jsxs)("div",{className:o().metadata,children:[(0,a.jsx)("img",{className:o().icon,src:"".concat(this.state.router.basePath,"/images/icon-license.svg"),alt:"License",loading:"lazy"})," ",this.state.plugin.license?(0,a.jsx)("a",{href:(0,p.tI)(this.state.plugin.license).url,target:"_blank",children:(0,p.tI)(this.state.plugin.license).name}):"none"]}),(0,a.jsxs)("div",{className:o().metadata,children:[(0,a.jsx)("img",{className:o().icon,src:"".concat(this.state.router.basePath,"/images/icon-tag.svg"),alt:"Tags",loading:"lazy"}),(0,a.jsx)("ul",{className:o().tags,children:this.state.plugin.tags.map((e,s)=>(0,a.jsxs)("li",{className:o().tag,children:[e,s!==this.state.plugin.tags.length-1?",":""]},"".concat(e,"-").concat(s)))})]}),(0,a.jsx)("div",{className:o().metadataFooter,children:(0,a.jsx)("a",{href:this.state.plugin.homepage,target:"_blank",children:(0,a.jsx)("button",{className:"button button-clear",children:"View source"})})})]})]})]})]}),(0,a.jsx)("div",{className:o().options,children:(0,a.jsxs)("div",{className:o().row,children:[(0,a.jsx)(m.Z,{plugin:this.state.plugin}),(0,a.jsx)(x.Z,{plugin:this.state.plugin})]})})]})]})}constructor(e){super(e),this.play=()=>{let e=document.getElementById("audio");e.paused&&(e.removeEventListener("ended",this.ended),e.addEventListener("ended",this.ended),e.currentTime=0,e.play(),this.setState({isPlaying:!0}))},this.pause=()=>{let e=document.getElementById("audio");e.paused||(e.pause(),this.setState({isPlaying:!1}))},this.ended=()=>{this.setState({isPlaying:!1})},this.state={isPlaying:!1,plugin:e.plugin,router:e.router}}}var _=!0,z=(0,u.withRouter)(w)},4823:function(e){e.exports={player:"player_player__JDI1q"}}},function(e){e.O(0,[477,333,888,774,179],function(){return e(e.s=2279)}),_N_E=e.O()}]);